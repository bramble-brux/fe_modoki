# 状態遷移図 (State Transition Diagram)

修正された要件に基づいた、タイマーの状態遷移図です。

```mermaid
graph TD
    Start((開始)) --> Work[仕事モード: カウントアップ]
    Work -->|設定時間超過| WorkExt[仕事モード: 延長中]
    
    Work -->|手動切替| Free[自由モード: カウントアップ]
    WorkExt -->|手動切替| Free
    
    Free -->|設定時間到達| Alert{アラート鳴動}
    Alert -->|停止ボタン押下| WorkAuto[仕事モード: 自動開始]
    
    WorkAuto --> Work
    
    subgraph 設定変更
        Gear((ギアアイコン)) --> Settings[設定画面]
        Settings -->|保存| Start
    end
```

## 主要な遷移の解説

1.  **仕事モード (Work Mode)**:
    - カウントアップを行い、設定時間を過ぎると自動的に「延長状態」に遷移します。
    - 延長状態では文字色がオレンジに変わりますが、タイマーは止まりません。

2.  **自由モード (Free Mode)**:
    - カウントアップを行い、設定時間に達すると「アラート鳴動状態」になります。
    - アラートは「停止ボタン」を押すまで鳴り続けます。

3.  **自動移行**:
    - 自由モードでアラートを停止させると、**直ちに仕事モードへ移行し、タイマーが自動でスタート**します。
