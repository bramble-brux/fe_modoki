# 作業管理タイマー 要件定義書 - v2.0.0

## 1. 概要
「１５分チェンジ法」に基づき、集中力を最大化する iOS タイマーアプリ。
仕事（Work）と休息（Free）を交互に繰り返し、作業のハードルを下げつつ深い集中（フロー）を目指す。

## 2. 画面定義

### 2.1 開始画面 (Start Screen)
- アプリ起動時のポータル。
- **カレンダーボタン**: 過去の活動記録を表示。
- **設定ボタン**: タイマー時間や配色をカスタマイズ。
- **Workスタートボタン**: ダンベルアイコン。即座に仕事モードを開始。
- **Freeスタートボタン**: コントローラーアイコン。即座に自由モードを開始。

### 2.2 カレンダー・統計画面 (Calendar Screen)
- 日付ごとの Work 実施時間を確認。
- **詳細管理**: 各記録に対して「削除」や「メモ（一言感想など）」の追加が可能。
- **月間統計**: 月ごとの合計 Work 時間をグラフ（棒グラフ等）で視覚化。

### 2.3 設定画面 (Settings Screen)
- **Work設定**:
    - 目標時間（分・秒）。
    - 背景色（プリセット選択 ＋ 16進数カラーコード入力）。
    - 終了時（目標到達時）のアラート通知 ON/OFF。
- **Free設定**:
    - 目標時間（分・秒）。
    - 背景色（プリセット選択 ＋ 16進数カラーコード入力）。

### 2.4 タイマー画面 (Active Screens)

#### 仕事モード (Work)
- **通常（カウントダウン）**:
    - ダンベルアイコン、残り時間を表示。
    - 操作: 一時停止/再開（小）、**Freeへ**（大）、終了（小）。
- **超過（カウントアップ）**:
    - 目標達成後、そのまま継続。成功色で超過時間を計測。
    - 操作: 一時停止/再開（小）、**Freeへ**（大）、終了（小）。

#### 自由モード (Free)
- **通常（カウントダウン）**:
    - コントローラーアイコン、残り時間を表示。
    - 操作: 一時停止/再開（小）、**Workへ**（大）、終了（小）。
- **超過（停止）**:
    - 0:00で停止。アラートが鳴動。
    - 操作: 一時停止/再開（非活性）、**Workへ**（大）、終了（小）。

### 2.5 完了画面 (Result Screen)
- 「お疲れ様でした」のメッセージ。
- 今回のセッションにおける **合計 Work 時間** を表示。
- **スタートに戻る** ボタン。

## 3. 追加仕様・ロジック

- **自動記録**: セッション終了、または「終了」ボタン押下時に、Work 合計時間を集計してカレンダーに保存。
- **通知メッセージ**:
    - Work終了時: 「work終了です、お疲れ様でした」
    - Free終了時: 「workの時間です」「free時間を⚪︎分」超過しています。
    - **バックグラウンド挙動**: Free超過中、1分ごとにリマインド通知。
- **アプリアイコン**: 目覚まし時計の中央に「15」の文字が入ったデザイン。
- **一時停止**: すべてのモードでカウントの一時停止と再開が可能。

## 4. 非機能要件
- **プラットフォーム**: iOS 17.0+ (SwiftUI)
- **ローカル永続化**: SwiftData または AppStorage + JSON による記録保存。
